<div class="ct-dialog ct-dialog-add ct-query-dialog">
    <div class="ct-dialog-title">
        <span>Save query</span>
        <button class="ct-dialog-close" mat-dialog-close ctClickClose></button>
    </div>

    <form #queryForm="ngForm" class="ct-form-add">
        <div class="ct-form-block">
            <div>
                <label class="ct-form-label">Query Name</label>
                <div class="ct-required-field-container ct-project-name-container">
                    <input class="ct-input ct-full-width" autofocus
                           [name]="'queryName'"
                           [(ngModel)]="model.queryName"
                           maxlength="200" pattern=".*[^\s]+.*" required
                           #queryInput="ngModel"/>
                </div>
                <div class="ct-error-text" *ngIf="false && queryInput.errors">
                    Query with this name already exists
                </div>

                <div class="ct-error-text" *ngIf="!queryInput.pristine && queryInput.errors?.required">
                    Query name can't be empty
                </div>
            </div>
        </div>

        <div class="ct-buttons-block" mat-dialog-actions>
            <button mat-raised-button class="ct-button ct-blue-button"
                    [disabled]="queryForm.invalid || isRequestLoading"
                    (click)="submit(queryForm)">Save</button>
            <button mat-dialog-close class="ct-cancel-button">Cancel</button>
        </div>
    </form>
</div>